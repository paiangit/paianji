# 第十七章 前端工具的使用

### 调试神器之Charles抓包工具的使用：

在你进行调试的时候，可能需要把本地的某个javascript或css文件替换掉线上的某个页面中对应的javascript或css文件，进行在线调试。这时你就需要一个抓包替换工具。比如Windows系统下的fiddler。这里我讲一下Mac系统下的一个与fiddler类似的工具——Charles。

首先打开Charles工具，切换到sequence，刷新你要抓包的页面，可以抓到所有的请求。然后你找到你需要的替换的某个javascript或css文件，选中它右键单击，选择map url，然后选择本地的文件。然后点Charles中的刷新按钮，即可把该请求指向本地的资源。这样可以方便地进行调试。

### host绑定的处理

控制台中输入sudo vim /etc/hosts，回车，然后输入机器密码。看到打开的hosts文件，按shift + i键进行输入，把要绑定的host粘贴到hosts文件的末尾。然后按esc退出编写模式。再按shift + : 。之后再输入:wq，进行保存和退出。如果只是退出而不保存，则应输入:x，然后回车进行退出。

### Webstorm怎么设置让编码自动换行？

view - active editor — use soft wraps

### TMS工具的使用

TMS是一个PHP模板编辑工具，其中中遇到的坑如下：

（1）JavaScript中的反斜杠要进行转意才有效，即\\来表示代码中的一个反斜杠。

（2）div标签未闭合导致的offsetTop获取不准确的问题。因为改变了元素的层级关系，这样其父元素就变了，如果这个副元素恰好有定位的好，那就导致获取的offsetTop可能是其相对于这个有定位的错误父元素的，而不是预想中的那个元素的。

（3）英文等号打成中文的等号，会导致 class="某class名" 这里的某class样式不会被渲染，看起来样式名也有，就是加载不进来这样的奇怪问题。

（4）在预发布中的一些所谓问题，正式发布后就可能不存在了。所以不要相信预发布中的预览效果。

（5）引入了其它样式时，需要考虑是不是别的样式覆盖了当前设定的样式，比如，明明设置了微软雅黑字体，却还是显示成了别的字体，这就需要考虑下是不是引入的样式被覆盖掉了。

（6）如果出现开发中要引入页头或页脚，而其中又包含一些公共样式的时候，最好一开始就将他们引入，以免最后合并的时候才发现reset样式不一样，导致一些覆盖问题，再去解决就会比较麻烦。

（7）在遇到不好解决的问题时，查看一下源代码，看看符号是否有全角半角、中文英文错设的情况，看看有无完整闭合标签等，可能会解决掉一些奇怪的问题。

（8）在html标准中，遇上双引号和单引号嵌套不够用时，可以对引号字符进行转意。

（9）在使用if else语句时

      <? } ?>
      <? else { ?>

      这种写法会报语法错误，需要改成：

      <? }
      else { ?>

      才可以运行通过。

（10）给cnzz埋点时，需要注意onclick="_czc.push(['_trackEvent','导航','xxxx']);" 中的双引号不能少，否则在ie6-8中会报错。

（11）关于charset="utf-8"这样的meta设置，在tms模版中优先级是低于tms中后端服务器报头中编码格式的设置的，所以在编写TMS时，就不用设置charset="utf-8"。因为TMS后端在报头中设置的返回浏览器的编码的格式为gbk。

### png8-data-uri的使用

首先需要安装brew，安装命令请从其官网复制过来：http://brew.sh/ 。

然后要安装libpng

### sublime text的使用

sublime可以打开图片，

ctrl+p   gotoanything输入行号可以跳转至某一行，输入文件名可以打开文件，

preference-defaultsetting获取默认设置到user中，

ctrl+shift+p进入命令模式， 输js,进入js语法模式。
